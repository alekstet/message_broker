# Брокер сообщений

Сервис обрабатывает 2 метода:
1. ___PUT /queue?v=....___
добавление сообщения в очередь с именем queue, пример:
```
curl -XPUT http://127.0.0.1/color?v=red
curl -XPUT http://127.0.0.1/color?v=green
curl -XPUT http://127.0.0.1/name?v=alex
curl -XPUT http://127.0.0.1/name?v=anna
```
в ответе {пустое тело + статус 200 (ok)}
в случае отсутствия параметра v - пустое тело + статус 400 (bad request);

2. ___GET /queue___
получение (по принципу FIFO) сообщения из очереди с именем queue, возвращение сообщения в теле
http запроса, пример:
```
curl http://127.0.0.1/color => red
curl http://127.0.0.1/color => green
curl http://127.0.0.1/color => {пустое тело + статус 404 (not found)}
curl http://127.0.0.1/color => {пустое тело + статус 404 (not found)}
curl http://127.0.0.1/name => alex
curl http://127.0.0.1/name => anna
curl http://127.0.0.1/name => {пустое тело + статус 404 (not found)}
```
при GET-запросах есть возможность задавать аргумент timeout
```
curl http://127.0.0.1/color?timeout=N
```
если в очереди нет готового сообщения получатель ждет либо до момента прихода сообщения, либо до истечения
таймаута (N - кол-во секунд). 
В случае, если сообщение так и не появилось - возвращается код 404.
Получатели получают сообщения в том же порядке как от них поступал запрос, если 2 получателя ждут
сообщения (используют таймаут), то первое сообщение получает тот, кто первый запросил.
